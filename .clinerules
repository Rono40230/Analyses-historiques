# .clinerules - RÃˆGLES ABSOLUTES POUR AGENT IA

## ğŸš¨ RÃˆGLE 0 : AUTO-VÃ‰RIFICATION SYSTÃ‰MATIQUE
// APRÃˆS CHAQUE GÃ‰NÃ‰RATION DE CODE, l'IA exÃ©cute AUTOMATIQUEMENT :
//   cargo fmt && cargo clippy -- -D warnings && cargo test
// Si Ã©chec â†’ NE PAS LIVRER LE CODE. Corriger d'abord.
// Si succÃ¨s â†’ Livrer avec rapport de conformitÃ©.

## ğŸ›¡ï¸ RÃˆGLE 1 : ZÃ‰RO COMMIT AUTOMATIQUE (INTERDICTION ABSOLUE)
// L'IA NE MENTIONNE JAMAIS : "git commit", "git push", "git add"
// L'IA NE SAIT PAS que git existe. C'est Ã  l'utilisateur de dÃ©cider.

## ğŸ§¹ RÃˆGLE 2 : ZÃ‰RO CODE MORT
// AVANT GÃ‰NÃ‰RATION, l'IA analyse et SUPPRIME code mort :
//   - Fonctions jamais appelÃ©es (dead_code)
//   - Imports inutilisÃ©s
//   - Variables non utilisÃ©es
// Pas de code commentÃ© >3 lignes.

## ğŸ§ª RÃˆGLE 3 : TESTS SystÃ©matiques
// POUR CHAQUE FONCTION PUBLIQUE :
//   - GÃ©nÃ©rer test unitaire AVANT implÃ©mentation (TDD)
//   - ExÃ©cuter `cargo test` - DOIT PASSER
//   - Coverage >80% pour nouveaux modules
// PAS DE CODE LIVRÃ‰ SANS TESTS PASSANTS.

## ğŸ“ RÃˆGLE 4 : RESPECT STRICT .clinerules & Makefile
// L'IA ne peut PAS gÃ©nÃ©rer de code qui viole :
//   - Taille fichier <300 lignes
//   - Pas d'unwrap() hors tests
//   - Architecture DAG (pas d'import circulaire)
//   - ZERO mock data
// Si violation â†’ CORRIGER IMMÃ‰DIATEMENT.

## ğŸ“ RÃˆGLE 5 : LIMITES DE TAILLE STRICTES
// - Services: <300 lignes (HARD LIMIT)
// - Commands: <200 lignes
// - main.rs: <120 lignes
// Si approche â†’ WARN. Si dÃ©passe â†’ STOP + Split.

## ğŸ¯ RÃˆGLE 6 : ARCHITECTURE 3 NIVEAUX (DAG)
// NIVEAU 1: utils/config.rs, utils/logger.rs, models/errors.rs â†’ AUCUNE dÃ©pendance
// NIVEAU 2: db/cache.rs, services/api_client.rs â†’ DÃ©pend NIVEAU 1 SEULEMENT
// NIVEAU 3: services/trading.rs â†’ DÃ©pend NIVEAU 1+2
// NIVEAU 4: commands/*.rs â†’ DÃ©pend NIVEAU 3 SEULEMENT
// âŒ JAMAIS d'import entre services mÃªme niveau.

## ğŸ’¾ RÃˆGLE 7 : GESTION D'ERREURS UNIFIÃ‰E
// TOUTES fonctions publiques retournent Result<T, ServiceError>
// âŒ unwrap(), unwrap_or() interdits
// âœ… Utiliser ? pour propagation

## ğŸ”’ RÃˆGLE 8 : ANTI-PATTERNS INTERDITS
// âŒ unwrap() sans contexte | Mock data | Clone() >5x/fn
// âŒ Magic numbers | Code commentÃ© >3 lignes | panic!() services
// âŒ Import circulaire | pub sur tout
// Si dÃ©tectÃ© â†’ SUPPRIMER/CORRIGER automatiquement.

## ğŸ“ RÃˆGLE 9 : RAPPORT OBLIGATOIRE
// APRÃˆS CHAQUE TÃ‚CHE, l'IA affiche :
//
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// âœ… TÃ‚CHE COMPLÃ‰TÃ‰E : [nom]
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ“ Taille: [X] lignes - Conforme
// ğŸ§ª Tests: [X] tests Ã©crits - Passants
// ğŸ”’ Coverage: [X]% - OK
// âš ï¸  Warnings: [X]
// ğŸ§¹ Code mort: [X] lignes nettoyÃ©es
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## ğŸ“ RÃˆGLE 10 : ZÃ‰RO DOCUMENTATION INUTILE
// âŒ Pas de fichiers .md de synthÃ¨se, documentation ou explication
// âŒ Pas de README.md amÃ©liorÃ© sauf si demandÃ© explicitement
// âŒ Pas de commentaires gÃ©nÃ©riques (inline comments OK si code complexe)
// âœ… Code parlant = meilleure doc
// âœ… Seul le code et les scripts comptent

```
